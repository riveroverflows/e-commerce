# 유비쿼터스 언어 (Ubiquitous Language)

- **작성자**: 김민주
- **최종 수정일**: 2026-02-14

본 문서는 이해관계자(기획, 개발, 디자인 등)가 동일한 문맥으로 소통하기 위해 정의한 공통 용어 사전입니다.
모든 설계 문서와 코드는 본 용어 정의를 기준으로 작성합니다.

## 1. 역할 (Actors)

- **Guest**: 로그인 없이 브랜드/상품의 공개 조회 기능을 사용하는 주체입니다.
- **Customer**: 브랜드/상품을 탐색하고 좋아요, 주문을 수행하는 구매 주체입니다.
- **Admin**: 브랜드/상품/주문을 운영 및 관리하는 주체입니다.

## 2. 핵심 도메인 용어

### 2.1 브랜드/상품

- **브랜드 (Brand)**: 상품을 공급하고 정체성을 표현하는 주체입니다.
- **상품 (Product)**: 브랜드에 속한 판매 단위입니다. 상품은 반드시 하나의 브랜드에 소속됩니다.
- **SKU (Stock Keeping Unit)**: 재고 관리를 위한 최소 식별 단위입니다.
    - 본 서비스에서는 옵션이 없는 단일 판매 단위만 다루므로, SKU는 상품과 1:1로 대응합니다.
- **재고 (Stock)**: 상품(SKU)의 구매 가능한 수량입니다.

### 2.2 좋아요

- **좋아요 (Like)**: Customer가 특정 상품에 대해 선호를 표시하고 저장하는 행위 및 데이터입니다.

### 2.3 주문

- **주문 (Order)**: 주문할 상품 목록(상품 식별자, 수량)을 기반으로 생성된 구매 기록입니다.
- **주문 항목 (OrderItem)**: 주문을 구성하는 개별 항목입니다.
    - 구성 요소: 상품, 주문 수량, 주문 시점의 스냅샷 정보
- **주문 스냅샷 (Order Snapshot)**: 주문 생성 시점의 정보를 주문 항목에 영구 보존하는 것을 의미합니다.
    - 포함 항목: 상품 식별자, 상품명, 브랜드 식별자, 브랜드명, 단가, 주문 수량

## 3. 상태 용어

### 3.1 노출/운영 상태

- **노출 (Visible)**: Customer가 목록/상세에서 확인할 수 있는 상태입니다.
    - 브랜드/상품의 활성 상태와 삭제 여부에 의해 결정됩니다.
- **활성 (Active) / 비활성 (Inactive)**: Admin이 관리하는 브랜드/상품의 운영 상태입니다.
    - 비활성인 브랜드/상품은 Customer에게 노출되지 않습니다.
- **삭제 (Deleted)**: 브랜드/상품이 삭제된 상태입니다.
    - 삭제된 브랜드/상품은 Customer 조회에서 노출되지 않습니다.

### 3.2 주문 상태

- **생성됨 (CREATED)**: 주문이 생성되어 시스템에 기록된 상태입니다.
    - 현재 범위에서는 결제를 다루지 않으므로, 주문 흐름의 최종 상태입니다.
    - 결제 도입 시점에 별도 상태(예: Paid)를 추가합니다.

## 4. 비즈니스 정책 용어

### 4.1 주문 정합성

- **재고 검증 (Stock Validation)**: 주문 생성 직전에, 주문 대상 모든 상품에 대해 요청 수량만큼 구매 가능한지 확인하는 절차입니다.
- **전부 성공 또는 전부 실패 (All-or-Nothing)**: 주문 내 모든 상품의 재고가 확보 가능해야만 주문이 생성되는 원칙입니다.

### 4.2 데이터 보존

- **논리 삭제 (Logical Delete)**: 데이터를 물리적으로 제거하지 않고, 상태 변경을 통해 노출을 차단하는 방식입니다.

### 4.3 중복 방지

- **멱등성 (Idempotency)**: 동일한 주문 생성 요청이 여러 번 도달하더라도 주문이 한 건만 생성되는 성질입니다.
    - 고유한 요청 식별자를 통해 멱등성을 보장합니다.

## 5. 현재 범위 밖 용어

다음 용어는 현재 기능 범위에서 제외되며, 후속 확장 시 정의를 보완한다.

- **장바구니 (Cart)**: Customer가 구매 예정 항목을 구성해 두는 임시 공간입니다.
- **결제 (Payment)**: 주문에 대한 대금 처리 과정입니다.
- **쿠폰 (Coupon)**: 할인 혜택을 제공하는 수단입니다.
